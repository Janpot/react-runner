{"version":3,"sources":["webpack:///../packages/react-runner/src/utils.js","webpack:///../packages/react-runner/src/Runner.js","webpack:///../packages/react-runner/src/useRunner.js","webpack:///../packages/react-live-runner/src/LiveRunner.js","webpack:///../packages/react-live-runner/src/useLiveRunner.js","webpack:///../packages/react-live-runner/src/CodeEditor.js","webpack:///../packages/react-live-runner/src/LiveContext.js","webpack:///../packages/react-live-runner/src/LiveProvider.js","webpack:///../packages/react-live-runner/src/LivePreview.js","webpack:///./src/components/LiveRunner.js","webpack:///./examples.js","webpack:///./src/pages/index.js","webpack:///./src/components/Header.js","webpack:///./src/components/Layout.js"],"names":["generateElement","options","errorCallback","code","scope","type","trimmedCode","trim","Element","_React$Component","ErrorBoundary","_this","_len","arguments","length","args","Array","_key","call","apply","this","concat","state","error","inheritsLoose_default","_proto","prototype","componentDidCatch","setState","render","react_default","a","createElement","React","Component","withErrorBoundary","scopeKeys","Object","keys","scopeValues","map","key","construct_default","Function","evalCode","transform","exportRegexp","renderRegexp","test","replace","Fragment","prepareCode","transforms","filter","Boolean","production","substr","assign","Runner","element","transpile","_this$props","props","componentDidMount","componentDidUpdate","prevProps","_this$props2","children","_this$state","propTypes","PropTypes","func","isRequired","string","object","oneOf","useRunner","_ref","useState","Error","memoScope","useMemo","join","_useState","useEffect","LiveRunner","getState","handleChange","sourceCode","_this2","Runner_Runner","onChange","CodeEditor","highlightCode","language","theme","es","Prism","tokens","getLineProps","getTokenProps","line","i","token","style","rest","objectWithoutPropertiesLoose_default","lib_default","padding","value","highlight","onValueChange","whiteSpace","fontFamily","plain","defaultProps","vsDarkPlus","LiveContext","createContext","LiveProvider","transformCode","transformedCode","LiveRunner_LiveRunner","src_LiveContext","Provider","LivePreview","Consumer","_ref2","node","elementType","Container","styled","div","withConfig","displayName","componentId","EditorContainer","Editor","PreviewContainer","Preview","UseRunner","setCode","_useRunner","LiveRunner_Error","toString","examples","title","codeBlock","_templateObject","_templateObject2","_templateObject3","css","_templateObject4","_templateObject5","Title","h3","Page","Layout","id","components_LiveRunner","header","Nav","nav","Link","h1","Header","href","GlobalStyle","createGlobalStyle","Body","Content","Layout_Container","Helmet_default","meta","name","content","components_Header"],"mappings":"sPA6CaA,EAAkB,SAACC,EAASC,QAA6B,IAA7BA,MAAgB,cAAa,IAC5DC,EAAsBF,EAAtBE,KAAMC,EAAgBH,EAAhBG,MAAOC,EAASJ,EAATI,KACfC,EAAcH,EAAOA,EAAKI,OAAS,GACzC,IAAKD,EAAa,OAAO,KAEzB,IAUME,EAjCkB,SAACA,EAASN,GAClC,gBAAAO,GAAA,SAAAC,IAAA,QAAAC,EAAAC,EAAAC,UAAAC,OAAAC,EAAA,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAAAF,EAAAE,GAAAJ,UAAAI,GAAA,OAAAN,EAAAF,EAAAS,KAAAC,MAAAV,EAAA,CAAAW,MAAAC,OAAAN,KAAAK,MACEE,MAAQ,CACNC,MAAO,MAFXZ,EAAAa,IAAAd,EAAAD,GAAA,IAAAgB,EAAAf,EAAAgB,UAAA,OAAAD,EAKEE,kBAAA,SAAkBJ,GAChBH,KAAKQ,SAAS,CAAEL,UAChBrB,EAAcqB,IAPlBE,EAUEI,OAAA,WACE,OAAIT,KAAKE,MAAMC,MAAc,KACH,mBAAZf,EAAyBsB,EAAAC,EAAAC,cAACxB,EAAD,MAAcA,GAZzDE,EAAA,CAAmCuB,IAAMC,WAgCzBC,CAzDD,SAAChC,EAAMC,GACtB,IAAMgC,EAAYC,OAAOC,KAAKlC,GACxBmC,EAAcH,EAAUI,IAAI,SAAAC,GAAG,OAAIrC,EAAMqC,KAG/C,OADWC,IAAIC,SAAYP,EAAnBf,OAAA,CAA8BlB,KAC7BgB,WAAF,EAAMoB,GAmDEK,CATSC,YAvCN,SAAA1C,GAClB,IAAM2C,EAAe,uBACfC,EAAe,qBAIrB,OAAID,EAAaE,KAAK7C,GAAcA,EAAK8C,QAAQH,EAAc,UAE3DC,EAAaC,KAAK7C,GAAcA,EAAK8C,QAAQF,EAAc,cAE/D5C,EAAOA,EAAK8C,QAAQ,KAAM,IAPJ,SASJD,KAAK7C,IAAS8B,IAAMiB,WAAU/C,EAAI,KAAQA,EAAR,OACpD,WAAkBA,EAAlB,KA0BkCgD,CAAY7C,GAAc,CAC1D8C,WAAY,CACV,MACA,UACS,eAAT/C,GAAyB,aAChB,SAATA,GAAmB,QACnBgD,OAAOC,SACTC,YAAY,IACXpD,KAAKqD,OAAO,IACQnB,OAAAoB,OAAA,CAAoBxB,WAAU7B,IACXF,GAE1C,OAAO4B,EAAAC,EAAAC,cAACxB,EAAD,OCzDYkD,sJACnBpC,MAAQ,CACNC,MAAO,KACPoC,QAAS,QAGXC,UAAY,WAAM,IAAAC,EACclD,EAAKmD,MAA3B3D,EADQ0D,EACR1D,KAAMC,EADEyD,EACFzD,MAAOC,EADLwD,EACKxD,KAErB,IACE,IAAMsD,EAAU3D,EAAgB,CAAEG,OAAMC,QAAOC,QAAQ,SAAAkB,GACrDZ,EAAKiB,SAAS,CAAEL,QAAOoC,QAAS,SAElChD,EAAKiB,SAAS,CAAE+B,UAASpC,MAAO,OAChC,MAAOA,GACPZ,EAAKiB,SAAS,CAAEL,QAAOoC,QAAS,+CAIpCI,kBAAA,WACE3C,KAAKwC,eAGPI,mBAAA,SAAmBC,GAAW,IAAAC,EACE9C,KAAK0C,MAA3B3D,EADoB+D,EACpB/D,KAAMC,EADc8D,EACd9D,MAAOC,EADO6D,EACP7D,KAEnBF,IAAS8D,EAAU9D,MACnBC,IAAU6D,EAAU7D,OACpBC,IAAS4D,EAAU5D,MAEnBe,KAAKwC,eAIT/B,OAAA,WAAS,IACCsC,EAAa/C,KAAK0C,MAAlBK,SADDC,EAEoBhD,KAAKE,MAEhC,OAAO6C,EAAS,CACdR,QALKS,EAECT,QAINpC,MANK6C,EAEU7C,YApCeU,IAAMC,WA6C1CwB,EAAOW,UAAY,CACjBF,SAAUG,IAAUC,KAAKC,WACzBrE,KAAMmE,IAAUG,OAAOD,WACvBpE,MAAOkE,IAAUI,OACjBrE,KAAMiE,IAAUK,MAAM,CAAC,aAAc,UCnDvC,IAwBeC,EAxBG,SAAAC,GAA2B,IAAxB1E,EAAwB0E,EAAxB1E,KAAMC,EAAkByE,EAAlBzE,MAAOC,EAAWwE,EAAXxE,KAChC,IAAKyE,WAAU,MAAM,IAAIC,MAAM,4CAI/B,IAAMC,EAAYC,kBAAQ,kBAAM7E,GAAO,CAACA,GAASiC,OAAOC,KAAKlC,GAAO8E,SALzBC,EAMjBL,mBAAS,CAAEnB,QAAS,KAAMpC,MAAO,OAApDD,EANoC6D,EAAA,GAM7BvD,EAN6BuD,EAAA,GAqB3C,OAdAC,oBAAU,WACR,IACE,IAAMzB,EAAU3D,EACd,CAAEG,OAAMC,MAAO4E,EAAW3E,QAC1B,SAAAkB,GACEK,EAAS,CAAEL,QAAOoC,QAAS,SAG/B/B,EAAS,CAAE+B,UAASpC,MAAO,OAC3B,MAAOA,GACPK,EAAS,CAAEL,QAAOoC,QAAS,SAE5B,CAACxD,EAAM6E,EAAW3E,IAEdiB,GCpBY+D,sJACnB/D,MAAQX,EAAK2E,aAUbC,aAAe,SAAApF,GACbQ,EAAKiB,SAAS,CAAEzB,gDATlBmF,SAAA,WAAW,IACDE,EAAepE,KAAK0C,MAApB0B,WAER,MAAO,CACLrF,KAAMqF,EAAaA,EAAWjF,OAAS,OAQ3CyD,mBAAA,SAAmBC,GACb7C,KAAK0C,MAAM0B,aAAevB,EAAUuB,YACtCpE,KAAKQ,SAASR,KAAKkE,eAIvBzD,OAAA,WAAS,IAAA4D,EAAArE,KAAAyC,EAC2BzC,KAAK0C,MAA/BK,EADDN,EACCM,SAAU/D,EADXyD,EACWzD,MAAOC,EADlBwD,EACkBxD,KACjBF,EAASiB,KAAKE,MAAdnB,KACR,OACE2B,EAAAC,EAAAC,cAAC0D,EAAD,CAAQvF,KAAMA,EAAMC,MAAOA,EAAOC,KAAMA,GACrC,SAAAwE,GAAA,IAAGlB,EAAHkB,EAAGlB,QAASpC,EAAZsD,EAAYtD,MAAZ,OACC4C,EAAS,CACPR,UACApC,QACApB,OACAwF,SAAUF,EAAKF,qBA/BatD,IAAMC,WAuC9CmD,EAAWhB,UAAY,CACrBF,SAAUG,IAAUC,KAAKC,WACzBgB,WAAYlB,IAAUG,OAAOD,WAC7BpE,MAAOkE,IAAUI,OACjBrE,KAAMiE,IAAUK,MAAM,CAAC,aAAc,UC5CvC,kECGqBiB,sJACnBC,cAAgB,SAAA1F,GAAQ,IAAA0D,EACMlD,EAAKmD,MAAzBgC,EADcjC,EACdiC,SAAUC,EADIlC,EACJkC,MAElB,OACEjE,EAAAC,EAAAC,cAACgE,EAAA,EAAD,CAAW7F,KAAMA,EAAM2F,SAAUA,EAAUG,MAAOA,IAAOF,MAAOA,GAC7D,SAAAlB,GAAA,IAAGqB,EAAHrB,EAAGqB,OAAQC,EAAXtB,EAAWsB,aAAcC,EAAzBvB,EAAyBuB,cAAzB,OACCtE,EAAAC,EAAAC,cAAAF,EAAAC,EAAAmB,SAAA,KACGgD,EAAO1D,IAAI,SAAC6D,EAAMC,GAAP,OACVxE,EAAAC,EAAAC,cAAA,MAASmE,EAAa,CAAEE,OAAM5D,IAAK6D,IAChCD,EAAK7D,IAAI,SAAC+D,EAAO9D,GAAR,OACRX,EAAAC,EAAAC,cAAA,OAAUoE,EAAc,CAAEG,QAAO9D,gDAUjDZ,OAAA,WAAS,IAAAqC,EACqD9C,KAAK0C,MAAzD3D,EADD+D,EACC/D,KAAgB4F,GADjB7B,EACO4B,SADP5B,EACiB6B,OAAOS,EADxBtC,EACwBsC,MAAOb,EAD/BzB,EAC+ByB,SAAac,EAD5CC,IAAAxC,EAAA,gDAGP,OACEpC,EAAAC,EAAAC,cAAC2E,EAAA5E,EAADM,OAAAoB,OAAA,CACEmD,QAAS,GACTC,MAAO1G,GAAQ,GACf2G,UAAW1F,KAAKyE,cAChBkB,cAAepB,EACfa,MAAKnE,OAAAoB,OAAA,CACHuD,WAAY,MACZC,WAAY,aACRlB,GAAgC,iBAAhBA,EAAMmB,MAAqBnB,EAAMmB,MAAQ,GAC1DV,IAEDC,QApC4BxE,IAAMC,WA0C9C0D,EAAWuB,aAAe,CACxBrB,SAAU,MACVC,MAAOqB,IACPzB,SAAU,cAGZC,EAAWvB,UAAY,CACrBlE,KAAMmE,IAAUG,OAChBqB,SAAUxB,IAAUG,OACpBsB,MAAOzB,IAAUI,OACjB8B,MAAOlC,IAAUI,OACjBiB,SAAUrB,IAAUC,kBCvDP8C,EAFKC,YAAc,ICInB,SAASC,EAAazD,GAAO,IAClCK,EAAgEL,EAAhEK,SAAUhE,EAAsD2D,EAAtD3D,KAAMC,EAAgD0D,EAAhD1D,MAAOC,EAAyCyD,EAAzCzD,KAAMyF,EAAmChC,EAAnCgC,SAAUC,EAAyBjC,EAAzBiC,MAAOyB,EAAkB1D,EAAlB0D,cAChDC,EAAkBD,EAAgBA,EAAcrH,GAAQA,EAE9D,OACE2B,EAAAC,EAAAC,cAAC0F,EAAD,CAAYlC,WAAYiC,EAAiBrH,MAAOA,EAAOC,KAAMA,GAC1D,SAAAwE,GAAA,IAAGlB,EAAHkB,EAAGlB,QAASpC,EAAZsD,EAAYtD,MAAOpB,EAAnB0E,EAAmB1E,KAAMwF,EAAzBd,EAAyBc,SAAzB,OACC7D,EAAAC,EAAAC,cAAC2F,EAAYC,SAAb,CACEf,MAAO,CAAElD,UAASpC,QAAOpB,OAAM2F,WAAUzF,OAAM0F,QAAOJ,aAErDxB,KCXX,SAAS0D,EAAThD,GAA6C,IAAtB3C,EAAsB2C,EAAtB3C,UAAcuE,EAAQC,IAAA7B,EAAA,eAC3C,OACE/C,EAAAC,EAAAC,cAAC2F,EAAYG,SAAb,KACG,SAAAC,GAAA,IAAGpE,EAAHoE,EAAGpE,QAAH,OAAiB7B,EAAAC,EAAAC,cAACE,EAAcuE,EAAO9C,KDe9C4D,EAAaJ,aAAe,CAC1BhH,KAAM,GACN2F,SAAU,OAGZyB,EAAalD,UAAY,CACvBF,SAAUG,IAAU0D,KACpB7H,KAAMmE,IAAUG,OAChBrE,MAAOkE,IAAUI,OACjBrE,KAAMiE,IAAUG,OAChBqB,SAAUxB,IAAUG,OACpBsB,MAAOzB,IAAUI,OACjB8C,cAAelD,IAAUC,MCtB3BsD,EAAYV,aAAe,CACzBjF,UAAW,OAGb2F,EAAYxD,UAAY,CACtBnC,UAAWoC,IAAU2D,aCNvB,IAAMC,EAAYC,IAAOC,IAAVC,WAAA,CAAAC,YAAA,wBAAAC,YAAA,YAAGJ,CAAH,oFAOTK,EAAkBL,IAAOC,IAAVC,WAAA,CAAAC,YAAA,8BAAAC,YAAA,YAAGJ,CAAH,2BAKfM,EAASN,YAAOvC,GAAVyC,WAAA,CAAAC,YAAA,qBAAAC,YAAA,YAAGJ,CAAH,qLAgBNO,EAAmBP,IAAOC,IAAVC,WAAA,CAAAC,YAAA,+BAAAC,YAAA,YAAGJ,CAAH,oHAUhBQ,EAAUR,IAAOC,IAAVC,WAAA,CAAAC,YAAA,sBAAAC,YAAA,YAAGJ,CAAH,oCAKPpD,EAAQoD,IAAOC,IAAVC,WAAA,CAAAC,YAAA,oBAAAC,YAAA,YAAGJ,CAAH,qHA+DIS,EAjBU,SAAAb,GAAiD,IAAxCvC,EAAwCuC,EAA9C5H,KAAkBC,EAA4B2H,EAA5B3H,MAAa0F,GAAeiC,EAArB1H,KAAqB0H,EAAfjC,UAAeX,EAChDL,oBAAUU,GAAc,IAAIjF,QAA7CJ,EADiEgF,EAAA,GAC3D0D,EAD2D1D,EAAA,GAAA2D,EAE7ClE,EAAU,CAAEzE,OAAMC,UAArCuD,EAFgEmF,EAEhEnF,QAASpC,EAFuDuH,EAEvDvH,MAEjB,OACEO,EAAAC,EAAAC,cAACkG,EAAD,KACEpG,EAAAC,EAAAC,cAACwG,EAAD,KACE1G,EAAAC,EAAAC,cAACyG,EAAD,CAAQtI,KAAMA,EAAM2F,SAAUA,EAAUH,SAAUkD,KAEpD/G,EAAAC,EAAAC,cAAC0G,EAAD,KACGnH,GAASO,EAAAC,EAAAC,cAAC+G,EAAD,KAAQxH,EAAMyH,YACxBlH,EAAAC,EAAAC,cAAC2G,EAAD,KAAUhF,isGC7GH,IAAAsF,EAAA,CACb,CACExG,IAAK,kBACLyG,MAAO,kBACP/I,KAAMgJ,YAAFC,MAKN,CACE3G,IAAK,qBACLyG,MAAO,qBACP/I,KAAMgJ,YAAFE,MAcN,CACE5G,IAAK,kBACLyG,MAAO,sCACP/I,KAAMgJ,YAAFG,MA8BN,CACE7G,IAAK,iBACLyG,MAAO,2BACP9I,MAAO,CAAE+H,WAAQoB,SACjBpJ,KAAMgJ,YAAFK,MAwBN,CACE/G,IAAK,SACLyG,MAAO,wBACP9I,MAAO,CAAE+H,WAAQoB,SACjBpJ,KAAMgJ,YAAFM,OCvFFC,EAAQvB,IAAOwB,GAAVtB,WAAA,CAAAC,YAAA,eAAAC,YAAA,YAAGJ,CAAH,sBAeIyB,UAXF,kBACX9H,EAAAC,EAAAC,cAAC6H,EAAA,EAAD,KACGZ,EAASzG,IAAI,SAAAqC,GAAA,IAAGpC,EAAHoC,EAAGpC,IAAKyG,EAARrE,EAAQqE,MAAO/I,EAAf0E,EAAe1E,KAAMC,EAArByE,EAAqBzE,MAArB,OACZ0B,EAAAC,EAAAC,cAACF,EAAAC,EAAMmB,SAAP,CAAgBT,IAAKA,GACnBX,EAAAC,EAAAC,cAAC0H,EAAD,CAAOI,GAAIrH,GAAMyG,GACjBpH,EAAAC,EAAAC,cAAC+H,EAAD,CAAY5J,KAAMA,EAAMC,MAAOA,4GCbjC8H,EAAYC,IAAO6B,OAAV3B,WAAA,CAAAC,YAAA,oBAAAC,YAAA,gBAAGJ,CAAH,sCAKT8B,EAAM9B,IAAO+B,IAAV7B,WAAA,CAAAC,YAAA,cAAAC,YAAA,gBAAGJ,CAAH,4GASHgC,EAAOhC,IAAOpG,EAAVsG,WAAA,CAAAC,YAAA,eAAAC,YAAA,gBAAGJ,CAAH,0DASJuB,EAAQvB,IAAOiC,GAAV/B,WAAA,CAAAC,YAAA,gBAAAC,YAAA,gBAAGJ,CAAH,oBAeIkC,EAXA,kBACbvI,EAAAC,EAAAC,cAACkG,EAAD,KACEpG,EAAAC,EAAAC,cAACiI,EAAD,KACEnI,EAAAC,EAAAC,cAACmI,EAAD,CAAMG,KAAK,0CACTxI,EAAAC,EAAAC,cAAC0H,EAAD,sBAEF5H,EAAAC,EAAAC,cAACmI,EAAD,CAAMG,KAAK,0CAAX,2NC9BN,IAAMC,EAAcC,YAAHpB,KAaXlB,EAAYC,IAAOC,IAAVC,WAAA,CAAAC,YAAA,oBAAAC,YAAA,gBAAGJ,CAAH,sDAMTsC,EAAOtC,IAAOC,IAAVC,WAAA,CAAAC,YAAA,eAAAC,YAAA,gBAAGJ,CAAH,6BAKJuC,EAAUvC,IAAOC,IAAVC,WAAA,CAAAC,YAAA,kBAAAC,YAAA,gBAAGJ,CAAH,uCA4BE0B,IAvBA,SAAAhF,GAAA,IAAGV,EAAHU,EAAGV,SAAH,OACbrC,EAAAC,EAAAC,cAAC2I,EAAD,KACE7I,EAAAC,EAAAC,cAACuI,EAAD,MACAzI,EAAAC,EAAAC,cAAC4I,EAAA7I,EAAD,CACEmH,MAAM,eACN2B,KAAM,CACJ,CACEC,KAAM,cACNC,QAAS,6CAEX,CACED,KAAM,WACNC,QAAS,8CAIfjJ,EAAAC,EAAAC,cAACgJ,EAAD,MACAlJ,EAAAC,EAAAC,cAACyI,EAAD,KACE3I,EAAAC,EAAAC,cAAC0I,EAAD,KAAUvG","file":"component---src-pages-index-js-0a0219f4fbd16c13c9db.js","sourcesContent":["import React from 'react'\nimport { transform } from 'sucrase'\n\nconst evalCode = (code, scope) => {\n  const scopeKeys = Object.keys(scope)\n  const scopeValues = scopeKeys.map(key => scope[key])\n  // eslint-disable-next-line no-new-func\n  const fn = new Function(...scopeKeys, code)\n  return fn(...scopeValues)\n}\n\nconst prepareCode = code => {\n  const exportRegexp = /\\bexport default\\b/gm\n  const renderRegexp = /\\brender(\\([^)])/gm\n  const elementRegexp = /^<.+>/g\n\n  // export default Component\n  if (exportRegexp.test(code)) return code.replace(exportRegexp, 'return')\n  // render(<Component />)\n  if (renderRegexp.test(code)) return code.replace(renderRegexp, 'return $1')\n  // remove trailing comma for expression\n  code = code.replace(/;$/, '')\n  // inline elements\n  if (elementRegexp.test(code) && React.Fragment) code = `<>${code}</>`\n  return `return (${code})`\n}\n\nconst withErrorBoundary = (Element, errorCallback) => {\n  return class ErrorBoundary extends React.Component {\n    state = {\n      error: null,\n    }\n\n    componentDidCatch(error) {\n      this.setState({ error })\n      errorCallback(error)\n    }\n\n    render() {\n      if (this.state.error) return null\n      return typeof Element === 'function' ? <Element /> : Element\n    }\n  }\n}\n\nexport const generateElement = (options, errorCallback = () => {}) => {\n  const { code, scope, type } = options\n  const trimmedCode = code ? code.trim() : ''\n  if (!trimmedCode) return null\n\n  const transformedCode = transform(prepareCode(trimmedCode), {\n    transforms: [\n      'jsx',\n      'imports',\n      type === 'typescript' && 'typescript',\n      type === 'flow' && 'flow',\n    ].filter(Boolean),\n    production: true,\n  }).code.substr(13)\n  const result = evalCode(transformedCode, { React, ...scope })\n  const Element = withErrorBoundary(result, errorCallback)\n\n  return <Element />\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport { generateElement } from './utils'\n\nexport default class Runner extends React.Component {\n  state = {\n    error: null,\n    element: null,\n  }\n\n  transpile = () => {\n    const { code, scope, type } = this.props\n\n    try {\n      const element = generateElement({ code, scope, type }, error => {\n        this.setState({ error, element: null })\n      })\n      this.setState({ element, error: null })\n    } catch (error) {\n      this.setState({ error, element: null })\n    }\n  }\n\n  componentDidMount() {\n    this.transpile()\n  }\n\n  componentDidUpdate(prevProps) {\n    const { code, scope, type } = this.props\n    if (\n      code !== prevProps.code ||\n      scope !== prevProps.scope ||\n      type !== prevProps.type\n    ) {\n      this.transpile()\n    }\n  }\n\n  render() {\n    const { children } = this.props\n    const { element, error } = this.state\n\n    return children({\n      element,\n      error,\n    })\n  }\n}\n\nRunner.propTypes = {\n  children: PropTypes.func.isRequired,\n  code: PropTypes.string.isRequired,\n  scope: PropTypes.object,\n  type: PropTypes.oneOf(['typescript', 'flow']),\n}\n","import { useState, useMemo, useEffect } from 'react'\nimport { generateElement } from './utils'\n\nconst useRunner = ({ code, scope, type }) => {\n  if (!useState) throw new Error('Require React 16.8 or above to use hooks')\n\n  // memoize scope to avoid effect loop\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const memoScope = useMemo(() => scope, [scope && Object.keys(scope).join()])\n  const [state, setState] = useState({ element: null, error: null })\n  useEffect(() => {\n    try {\n      const element = generateElement(\n        { code, scope: memoScope, type },\n        error => {\n          setState({ error, element: null })\n        }\n      )\n      setState({ element, error: null })\n    } catch (error) {\n      setState({ error, element: null })\n    }\n  }, [code, memoScope, type])\n\n  return state\n}\n\nexport default useRunner\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Runner from 'react-runner'\n\nexport default class LiveRunner extends React.Component {\n  state = this.getState()\n\n  getState() {\n    const { sourceCode } = this.props\n\n    return {\n      code: sourceCode ? sourceCode.trim() : '',\n    }\n  }\n\n  handleChange = code => {\n    this.setState({ code })\n  }\n\n  componentDidUpdate(prevProps) {\n    if (this.props.sourceCode !== prevProps.sourceCode) {\n      this.setState(this.getState())\n    }\n  }\n\n  render() {\n    const { children, scope, type } = this.props\n    const { code } = this.state\n    return (\n      <Runner code={code} scope={scope} type={type}>\n        {({ element, error }) =>\n          children({\n            element,\n            error,\n            code,\n            onChange: this.handleChange,\n          })\n        }\n      </Runner>\n    )\n  }\n}\n\nLiveRunner.propTypes = {\n  children: PropTypes.func.isRequired,\n  sourceCode: PropTypes.string.isRequired,\n  scope: PropTypes.object,\n  type: PropTypes.oneOf(['typescript', 'flow']),\n}\n","import { useState, useEffect } from 'react'\nimport { useRunner } from 'react-runner'\n\nconst useLiveRunner = ({ sourceCode, scope, type }) => {\n  const [code, onChange] = useState(sourceCode)\n  const { element, error } = useRunner({ code, scope, type })\n\n  useEffect(() => {\n    onChange(sourceCode)\n  }, [sourceCode])\n\n  return { element, error, code, onChange }\n}\n\nexport default useLiveRunner\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport Editor from 'react-simple-code-editor'\nimport Highlight, { Prism } from 'prism-react-renderer'\nimport vsDarkPlus from 'prism-react-renderer/themes/vsDarkPlus'\n\nexport default class CodeEditor extends React.Component {\n  highlightCode = code => {\n    const { language, theme } = this.props\n\n    return (\n      <Highlight code={code} language={language} Prism={Prism} theme={theme}>\n        {({ tokens, getLineProps, getTokenProps }) => (\n          <>\n            {tokens.map((line, i) => (\n              <div {...getLineProps({ line, key: i })}>\n                {line.map((token, key) => (\n                  <span {...getTokenProps({ token, key })} />\n                ))}\n              </div>\n            ))}\n          </>\n        )}\n      </Highlight>\n    )\n  }\n\n  render() {\n    const { code, language, theme, style, onChange, ...rest } = this.props\n\n    return (\n      <Editor\n        padding={10}\n        value={code || ''}\n        highlight={this.highlightCode}\n        onValueChange={onChange}\n        style={{\n          whiteSpace: 'pre',\n          fontFamily: 'monospace',\n          ...(theme && typeof theme.plain === 'object' ? theme.plain : {}),\n          ...style,\n        }}\n        {...rest}\n      />\n    )\n  }\n}\n\nCodeEditor.defaultProps = {\n  language: 'jsx',\n  theme: vsDarkPlus,\n  onChange: () => {},\n}\n\nCodeEditor.propTypes = {\n  code: PropTypes.string,\n  language: PropTypes.string,\n  theme: PropTypes.object,\n  style: PropTypes.object,\n  onChange: PropTypes.func,\n}\n","import createContext from 'create-react-context'\n\nconst LiveContext = createContext({})\n\nexport default LiveContext\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport LiveContext from './LiveContext'\nimport LiveRunner from './LiveRunner'\n\nexport default function LiveProvider(props) {\n  const { children, code, scope, type, language, theme, transformCode } = props\n  const transformedCode = transformCode ? transformCode(code) : code\n\n  return (\n    <LiveRunner sourceCode={transformedCode} scope={scope} type={type}>\n      {({ element, error, code, onChange }) => (\n        <LiveContext.Provider\n          value={{ element, error, code, language, type, theme, onChange }}\n        >\n          {children}\n        </LiveContext.Provider>\n      )}\n    </LiveRunner>\n  )\n}\n\nLiveProvider.defaultProps = {\n  code: '',\n  language: 'jsx',\n}\n\nLiveProvider.propTypes = {\n  children: PropTypes.node,\n  code: PropTypes.string,\n  scope: PropTypes.object,\n  type: PropTypes.string,\n  language: PropTypes.string,\n  theme: PropTypes.object,\n  transformCode: PropTypes.func,\n}\n","import React from 'react'\nimport PropTypes from 'prop-types'\n\nimport LiveContext from './LiveContext'\n\nfunction LivePreview({ Component, ...rest }) {\n  return (\n    <LiveContext.Consumer>\n      {({ element }) => <Component {...rest}>{element}</Component>}\n    </LiveContext.Consumer>\n  )\n}\n\nLivePreview.defaultProps = {\n  Component: 'div',\n}\n\nLivePreview.propTypes = {\n  Component: PropTypes.elementType,\n}\n\nexport default LivePreview\n","import React, { useState } from 'react'\nimport styled from 'styled-components'\nimport { useRunner } from 'react-runner'\nimport {\n  LiveProvider,\n  LiveEditor,\n  LivePreview,\n  LiveError,\n  CodeEditor,\n  useLiveRunner,\n} from 'react-live-runner'\n\nconst Container = styled.div`\n  display: flex;\n  box-shadow: 0 0 8px 0 lightsteelblue;\n  height: 250px;\n  overflow: hidden;\n`\n\nconst EditorContainer = styled.div`\n  flex: 1;\n  overflow: auto;\n`\n\nconst Editor = styled(CodeEditor)`\n  white-space: pre;\n  font-family: monospace;\n  background: #222;\n  caret-color: #fff;\n  min-width: 100%;\n  min-height: 100%;\n  float: left;\n\n  & > textarea,\n  & > pre {\n    outline: none;\n    white-space: pre !important;\n  }\n`\n\nconst PreviewContainer = styled.div`\n  flex: 1;\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: #fff;\n  overflow: auto;\n`\n\nconst Preview = styled.div`\n  margin: auto;\n  text-align: center;\n`\n\nconst Error = styled.div`\n  background: #fcc;\n  position: absolute;\n  top: 0;\n  left: 0;\n  min-width: 100%;\n  margin: 0;\n  padding: 10px;\n  color: #f00;\n  white-space: pre;\n`\n\nexport const LiveRunner = props => (\n  <LiveProvider {...props}>\n    <Container>\n      <EditorContainer>\n        <Editor as={LiveEditor} />\n      </EditorContainer>\n      <PreviewContainer>\n        <Preview as={LivePreview} />\n        <Error as={LiveError} />\n      </PreviewContainer>\n    </Container>\n  </LiveProvider>\n)\n\nexport const UseLiveRunner = ({ code: sourceCode, scope, type, language }) => {\n  const { element, error, code, onChange } = useLiveRunner({\n    sourceCode,\n    scope,\n    type,\n  })\n\n  return (\n    <Container>\n      <EditorContainer>\n        <Editor code={code} language={language} onChange={onChange} />\n      </EditorContainer>\n      <PreviewContainer>\n        {error && <Error>{error.toString()}</Error>}\n        <Preview>{element}</Preview>\n      </PreviewContainer>\n    </Container>\n  )\n}\n\nexport const UseRunner = ({ code: sourceCode, scope, type, language }) => {\n  const [code, setCode] = useState((sourceCode || '').trim())\n  const { element, error } = useRunner({ code, scope })\n\n  return (\n    <Container>\n      <EditorContainer>\n        <Editor code={code} language={language} onChange={setCode} />\n      </EditorContainer>\n      <PreviewContainer>\n        {error && <Error>{error.toString()}</Error>}\n        <Preview>{element}</Preview>\n      </PreviewContainer>\n    </Container>\n  )\n}\n\nexport default UseRunner\n","import styled, { css } from 'styled-components'\nimport { codeBlock } from 'common-tags'\n\nexport default [\n  {\n    key: 'inline-elements',\n    title: 'Inline elements',\n    code: codeBlock`\n    <div>Hello</div>\n    <div>react-runner</div>\n    `,\n  },\n  {\n    key: 'function-component',\n    title: 'Function Component',\n    code: codeBlock`\n    () => {\n      const [count, setCount] = React.useState(0)\n\n      return (\n        <>\n          <div>{count}</div>\n          <button onClick={() => setCount(count => count + 1)}>+</button>\n          <button onClick={() => setCount(count => count - 1)}>-</button>\n        </>\n      )\n    }\n    `,\n  },\n  {\n    key: 'class-component',\n    title: 'Class Component with fields support',\n    code: codeBlock`\n    class Counter extends React.Component {\n      state = {\n        count: 0,\n      }\n\n      onIncrement = () => {\n        this.setState(({ count }) => ({\n          count: count + 1,\n        }))\n      }\n\n      onDecrement = () => {\n        this.setState(({ count }) => ({\n          count: count - 1,\n        }))\n      }\n\n      render() {\n        return (\n          <div>\n            <div>{this.state.count}</div>\n            <button onClick={this.onIncrement}>+</button>\n            <button onClick={this.onDecrement}>-</button>\n          </div>\n        )\n      }\n    }\n    `,\n  },\n  {\n    key: 'export-default',\n    title: 'export default Component',\n    scope: { styled, css },\n    code: codeBlock`\n    const Button = styled.button\\`\n      background: transparent;\n      color: steelblue;\n      border: 2px solid steelblue;\n      margin: 5px 10px;\n      padding: 5px 10px;\n      font-size: 16px;\n      border-radius: 4px;\n\n      \\${props => props.primary && css\\`\n        background: steelblue;\n        color: white;\n      \\`}\n    \\`\n\n    render(\n      <>\n        <Button>Normal Button</Button>\n        <Button primary>Primary Button</Button>\n      </>\n    )\n    `,\n  },\n  {\n    key: 'render',\n    title: 'render(<Component />)',\n    scope: { styled, css },\n    code: codeBlock`\n    const Button = styled.button\\`\n      background: transparent;\n      color: steelblue;\n      border: 2px solid steelblue;\n      margin: 5px 10px;\n      padding: 5px 10px;\n      font-size: 16px;\n      border-radius: 4px;\n\n      \\${props => props.primary && css\\`\n        background: steelblue;\n        color: white;\n      \\`}\n    \\`\n\n    render(\n      <>\n        <Button>Normal Button</Button>\n        <Button primary>Primary Button</Button>\n      </>\n    )\n    `,\n  },\n]\n","import React from 'react'\nimport styled from 'styled-components'\n\nimport Layout from '../components/Layout'\nimport LiveRunner from '../components/LiveRunner'\nimport examples from '../../examples'\n\nconst Title = styled.h3`\n  color: steelblue;\n`\n\nconst Page = () => (\n  <Layout>\n    {examples.map(({ key, title, code, scope }) => (\n      <React.Fragment key={key}>\n        <Title id={key}>{title}</Title>\n        <LiveRunner code={code} scope={scope} />\n      </React.Fragment>\n    ))}\n  </Layout>\n)\n\nexport default Page\n","import React from 'react'\nimport styled from 'styled-components'\n\nconst Container = styled.header`\n  background: steelblue;\n  color: #fff;\n`\n\nconst Nav = styled.nav`\n  height: 50px;\n  max-width: 900px;\n  margin: auto;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n`\n\nconst Link = styled.a`\n  color: #fff;\n  text-decoration: none;\n\n  &:hover {\n    color: #eee;\n  }\n`\n\nconst Title = styled.h1`\n  margin: 10px 0;\n`\n\nconst Header = () => (\n  <Container>\n    <Nav>\n      <Link href=\"https://nihgwu.github.io/react-runner/\">\n        <Title>react-runner</Title>\n      </Link>\n      <Link href=\"https://github.com/nihgwu/react-runner\">Github</Link>\n    </Nav>\n  </Container>\n)\n\nexport default Header\n","import React from 'react'\nimport Helmet from 'react-helmet'\nimport styled, { createGlobalStyle } from 'styled-components'\n\nimport Header from './Header'\n\nconst GlobalStyle = createGlobalStyle`\n  body {\n    margin: 0;\n    padding: 0;\n    font-family: sans-serif;\n    font-size: 16px;\n  }\n\n  * {\n    box-sizing: border-box;\n  }\n`\n\nconst Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  height: 100vh;\n`\n\nconst Body = styled.div`\n  flex: 1;\n  overflow-y: auto;\n`\n\nconst Content = styled.div`\n  margin: 20px auto;\n  max-width: 900px;\n`\n\nconst Layout = ({ children }) => (\n  <Container>\n    <GlobalStyle />\n    <Helmet\n      title=\"react-runner\"\n      meta={[\n        {\n          name: 'description',\n          content: 'Preview your React component the easy way',\n        },\n        {\n          name: 'keywords',\n          content: 'react, component, preview, runner, live',\n        },\n      ]}\n    />\n    <Header />\n    <Body>\n      <Content>{children}</Content>\n    </Body>\n  </Container>\n)\n\nexport default Layout\n"],"sourceRoot":""}